# JavaScript 的this底层原理

- js之所以有this的设计，跟内存里面的数据结构有关。
- 由于函数可以在不同的运行环境执行，所以需要有一种机制，能够在函数体内部获得当前的运行环境，所以this出现了，设计目的就是***在函数体内指代函数当前的运行环境***。

## 问题的来源是什么？
    1. 同一个函数，运行后this的指向不一样？
    2. 不同的运行方式，带来不同的运行环境   
        - 箭头函数 没有this  ，不适合
        - 普通函数 严格模式 全局|undefined ，不够明显
        - 构造函数 new | 普通函数 ，麻烦
        - call、bind、apply
        - 事件处理函数 this 指向 event.target




- 同一个函数 (内存中,同一个函数只有一个)
- 不同环境(上下文)里的不同运行方式
    1. 全局变量,普通函数
    2. obj.foo属性,指向了函数   对象的方法

- 方法 + 引用赋值 1.html最根正苗红的例子